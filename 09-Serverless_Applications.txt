Serverless means don’t have manage anything underneath the platform; you don’t need to care about the loading (it will automatically adjusted for you), no need to manage EC2, no need to install patches or update software;  Serverless services includes Lambda (run compute functions), SNS, SQS, API Gateway.

Serverless Services and Event-Driven Architecture; you can have serverless compute, storage, database services; you don't manage it the service can scale seamelessly; event drivern, e.g., upload file to S3 -> S3 use event notification to trigger lambda function to process the file -> lambda update theh file and store in othehr s3 bucket -> at the same time Lambda can trigger the SQS Queue -> use the other lambda function to consume the SQS Queue -> the other lambda function process the data and store it to theh DynamoDB

AWS Lambda is a serverless compute service which runs function; upload your code to lambda and wait for something to trigger that function; pay for execution time and thhe allocated resource only; functions execution can run up to 15 minutes (can't run function more that 15 mins run time); Use case: data processing, file processing, event source mapping (map data from one service to the other service, eg. S3 to SQS); Lambda function can run concurrently, that is one lambda function which trigger by N events at theh same time, then N lambda function with the same code can run concurrently;

[HOL] Create Simple Lambda Function: (run a function in Lambda and trigger CloudWatch Logs - in this lab, no CloudWatch, trigger or destination are need to set)
Goto theh Lambda Dashboard, Click Create Function; The function can created from Scratch, Use a Blueprint, Container Image, serverless app repository; in this exercise we choose start from scratch, give it a name, use a run time (eg. Nodejs, Python), set permission (espeically if need to work with other AWS services) by create a new role with basic lambda permissions OR use exisiting role OR create a new role from AWS policy template; then goto the function page, at the top you can see the function, on the left there is an "Add trigger" button (add source like S3, SQS), on the right there is an "Add destination" button; 
In the function page, scroll down and click the code tab, you can edit theh code or upload the code from .zip file or AWS s3 location; 
In the function page, scroll down and click the Test tab, play around the Test; 
In the function page, scroll down and click the Monitor tab, click View logs in CloudWatch; then it will jump to the CloudWatch, inside CloudWatch, click logs, log groups, then you can see something about thhe logs from Lambda;
In the function page, scroll down and click Configuration tab, click Permissions, check the execution role, resource summary and play around it

Application Integration Services Overview:
They include, SQS, SNS, Step Functions, Simple Workflow Service, Amazon MQ, Amazon Kinesis (SQS, SNS, Step Functions are the most important)
Amazon Kinese can be considered as integration services but it also an analytic service
SQS = message queue; SNS = notification; Step Functions = coordinations of AWS service component;
Simple Workflow Service = old version of step function; use case: automated flow enable by the code, then you need human interaction and no code it needed, then after human finish the the process manually, you put it back to the automated flow
Amazon MQ is similar to SQS; use case: use theh Active MQ and RabbitMQ and want to shift the services to AWS cloud can consider Amazon MQ; because Amazon MQ use Active MQ and RabbitMQ for the service
Amazon Kinesis is a service that collects, processes, and analyzes data


Amazon SQS can decouple the applications; Two type of Queues, each has it's advtange and disadvantage
Standard Queue: Best-effor ordering; Unlimited Throughput; At least once delivery (beware if your application is sensitive to receive the same message twice)
FIFO Queue: First in First out ordering; High Throughhput; Exactly once processing
Dead Letter Queue (not a queue type) is used to store the message which cannot process successfully; it's store for analysis later;
Delay Queue (not a queue type) is used to store in the queue and delay for N seconds before the consumer (eg. Lambda) can see it;
Long Polling waits for theh WaitTimeSeconds and elemenates empty responses (can reduce the number of API call, but not the fastest response)
Short Polling just checks a subset of servers and may not return all messages (faster response but more API calls)


Amazon SNS Publisher sends one message to one SNS topic and the subscribers can read the notifications
Subscribers can be Lambda, SQS, Web Applications


[HOL] Simple Event-Driven App: (use CLI send command to SQS, once the message add to the queue, SQS will trigger the Lambda and write the results to DynamoDB, the Lambda will also trigger the CloudWatch Logs) (refer to the Code>Simple-Event-Driven-App>Introduction.md)
1. goto DynamoDB, click Create table, give the name, set Partition key = ProductVisitKey
2. goto Simple Queue Service, click Create queue, select Standard Queue, give theh name as ProductVisitsDataQueue, keep default access poicy, done -> copy thhe SQS URL for later use
3. goto Lambda, click Create function, select Author from scratch, set function name = productVisitsDataHandler, runtime = nodejs 12.x, Execution rule = Create a new role from AWS policy templates, role name = lambdaRoleForSQSPermissions, Policy templates = "Simple microservice permissions" and "Amazon SQS poller permissions", click Create function; upload the zip file for the lambda function, 
4. go back to Amazon SQS, select the just created SQS, scroll down and select theh Lambda triggers tab, just browse around
5. goto CLI and use command to send messsage to SQS
6. back to Amazon SQS, click Send and review messages, you can see a message under Messages section, you can click "Pull for messages" which will refresh from the queue in case there are new messages, 
7. in the Amazon SQS, goto the created SQS, scroll down, click Lambda triggers tab, click Configure Lambda function trigger button, select the Lambda function by choosing the just created Lambda function, then click save, this will trigger the lambda function when SQS got new message, 
8. in Amazon SQS, goto the created SQS, scroll to theh top, click Send and recive messages button, after sending, you call click the Poll for messages button
9. goto the DynamoDB, you can see record is added by the Lambda function, as SQS linkup with Lambda, and theh Lambda function already run by the code which will write the data to the dynamoDB; 
10. goto CloudWatch, select Log groups, you will also see the logs "/aws/lambda/productVisionDatahandler" ("/aws/lambda/<function-name>"); the CloudWatch has the new record is becauae the code inside the Lambda trigger this happen 

AWS Step Functions is a service that coordinates the components of an application; just like a state machine to trigger different lambda functions;

[HOL] Create a State Machine
1. goto AWS Step Functions dashboard, click Get started, you can see a Review Hello World example (with code and visual state machine), leave remainging as default and click Create state machine,
2. goto Lambda, Create Function, give the function name, runtime=nodejs12, role=Create a new role with basic Lambda permissions; edit the lambda function;




